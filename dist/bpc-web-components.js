var jt=Object.defineProperty;var Vt=(N,d,T)=>d in N?jt(N,d,{enumerable:!0,configurable:!0,writable:!0,value:T}):N[d]=T;var D=(N,d,T)=>Vt(N,typeof d!="symbol"?d+"":d,T);(function(){"use strict";var N,d,T,R,ve,ye,ge,xe,ie,_e,le,W={},be=[],it=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,F=Array.isArray;function A(e,t){for(var n in t)e[n]=t[n];return e}function ae(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function j(e,t,n){var o,i,r,_={};for(r in t)r=="key"?o=t[r]:r=="ref"?i=t[r]:_[r]=t[r];if(arguments.length>2&&(_.children=arguments.length>3?N.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(r in e.defaultProps)_[r]===void 0&&(_[r]=e.defaultProps[r]);return Z(e,_,o,i,null)}function Z(e,t,n,o,i){var r={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++T,__i:-1,__u:0};return i==null&&d.vnode!=null&&d.vnode(r),r}function S(e){return e.children}function B(e,t){this.props=e,this.context=t}function M(e,t){if(t==null)return e.__?M(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?M(e):null}function we(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return we(e)}}function ke(e){(!e.__d&&(e.__d=!0)&&R.push(e)&&!Y.__r++||ve!=d.debounceRendering)&&((ve=d.debounceRendering)||ye)(Y)}function Y(){for(var e,t,n,o,i,r,_,a=1;R.length;)R.length>a&&R.sort(ge),e=R.shift(),a=R.length,e.__d&&(n=void 0,o=void 0,i=(o=(t=e).__v).__e,r=[],_=[],t.__P&&((n=A({},o)).__v=o.__v+1,d.vnode&&d.vnode(n),se(t.__P,n,o,t.__n,t.__P.namespaceURI,32&o.__u?[i]:null,r,i??M(o),!!(32&o.__u),_),n.__v=o.__v,n.__.__k[n.__i]=n,Ne(r,n,_),o.__e=o.__=null,n.__e!=i&&we(n)));Y.__r=0}function Ce(e,t,n,o,i,r,_,a,c,s,u){var l,m,p,y,b,g,f,h=o&&o.__k||be,P=t.length;for(c=_t(n,t,h,c,P),l=0;l<P;l++)(p=n.__k[l])!=null&&(m=p.__i==-1?W:h[p.__i]||W,p.__i=l,g=se(e,p,m,i,r,_,a,c,s,u),y=p.__e,p.ref&&m.ref!=p.ref&&(m.ref&&ue(m.ref,null,p),u.push(p.ref,p.__c||y,p)),b==null&&y!=null&&(b=y),(f=!!(4&p.__u))||m.__k===p.__k?c=ze(p,c,e,f):typeof p.type=="function"&&g!==void 0?c=g:y&&(c=y.nextSibling),p.__u&=-7);return n.__e=b,c}function _t(e,t,n,o,i){var r,_,a,c,s,u=n.length,l=u,m=0;for(e.__k=new Array(i),r=0;r<i;r++)(_=t[r])!=null&&typeof _!="boolean"&&typeof _!="function"?(c=r+m,(_=e.__k[r]=typeof _=="string"||typeof _=="number"||typeof _=="bigint"||_.constructor==String?Z(null,_,null,null,null):F(_)?Z(S,{children:_},null,null,null):_.constructor==null&&_.__b>0?Z(_.type,_.props,_.key,_.ref?_.ref:null,_.__v):_).__=e,_.__b=e.__b+1,a=null,(s=_.__i=lt(_,n,c,l))!=-1&&(l--,(a=n[s])&&(a.__u|=2)),a==null||a.__v==null?(s==-1&&(i>u?m--:i<u&&m++),typeof _.type!="function"&&(_.__u|=4)):s!=c&&(s==c-1?m--:s==c+1?m++:(s>c?m--:m++,_.__u|=4))):e.__k[r]=null;if(l)for(r=0;r<u;r++)(a=n[r])!=null&&(2&a.__u)==0&&(a.__e==o&&(o=M(a)),$e(a,a));return o}function ze(e,t,n,o){var i,r;if(typeof e.type=="function"){for(i=e.__k,r=0;i&&r<i.length;r++)i[r]&&(i[r].__=e,t=ze(i[r],t,n,o));return t}e.__e!=t&&(o&&(t&&e.type&&!t.parentNode&&(t=M(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function J(e,t){return t=t||[],e==null||typeof e=="boolean"||(F(e)?e.some(function(n){J(n,t)}):t.push(e)),t}function lt(e,t,n,o){var i,r,_,a=e.key,c=e.type,s=t[n],u=s!=null&&(2&s.__u)==0;if(s===null&&e.key==null||u&&a==s.key&&c==s.type)return n;if(o>(u?1:0)){for(i=n-1,r=n+1;i>=0||r<t.length;)if((s=t[_=i>=0?i--:r++])!=null&&(2&s.__u)==0&&a==s.key&&c==s.type)return _}return-1}function Pe(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||it.test(t)?n:n+"px"}function X(e,t,n,o,i){var r,_;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof o=="string"&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||Pe(e.style,t,"");if(n)for(t in n)o&&n[t]==o[t]||Pe(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")r=t!=(t=t.replace(xe,"$1")),_=t.toLowerCase(),t=_ in e||t=="onFocusOut"||t=="onFocusIn"?_.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?o?n.u=o.u:(n.u=ie,e.addEventListener(t,r?le:_e,r)):e.removeEventListener(t,r?le:_e,r);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function Ee(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=ie++;else if(t.t<n.u)return;return n(d.event?d.event(t):t)}}}function se(e,t,n,o,i,r,_,a,c,s){var u,l,m,p,y,b,g,f,h,P,E,x,z,K,I,U,me,$=t.type;if(t.constructor!=null)return null;128&n.__u&&(c=!!(32&n.__u),r=[a=t.__e=n.__e]),(u=d.__b)&&u(t);e:if(typeof $=="function")try{if(f=t.props,h="prototype"in $&&$.prototype.render,P=(u=$.contextType)&&o[u.__c],E=u?P?P.props.value:u.__:o,n.__c?g=(l=t.__c=n.__c).__=l.__E:(h?t.__c=l=new $(f,E):(t.__c=l=new B(f,E),l.constructor=$,l.render=st),P&&P.sub(l),l.props=f,l.state||(l.state={}),l.context=E,l.__n=o,m=l.__d=!0,l.__h=[],l._sb=[]),h&&l.__s==null&&(l.__s=l.state),h&&$.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=A({},l.__s)),A(l.__s,$.getDerivedStateFromProps(f,l.__s))),p=l.props,y=l.state,l.__v=t,m)h&&$.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),h&&l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(h&&$.getDerivedStateFromProps==null&&f!==p&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(f,E),!l.__e&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(f,l.__s,E)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(l.props=f,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(L){L&&(L.__=t)}),x=0;x<l._sb.length;x++)l.__h.push(l._sb[x]);l._sb=[],l.__h.length&&_.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(f,l.__s,E),h&&l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(p,y,b)})}if(l.context=E,l.props=f,l.__P=e,l.__e=!1,z=d.__r,K=0,h){for(l.state=l.__s,l.__d=!1,z&&z(t),u=l.render(l.props,l.state,l.context),I=0;I<l._sb.length;I++)l.__h.push(l._sb[I]);l._sb=[]}else do l.__d=!1,z&&z(t),u=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++K<25);l.state=l.__s,l.getChildContext!=null&&(o=A(A({},o),l.getChildContext())),h&&!m&&l.getSnapshotBeforeUpdate!=null&&(b=l.getSnapshotBeforeUpdate(p,y)),U=u,u!=null&&u.type===S&&u.key==null&&(U=Se(u.props.children)),a=Ce(e,F(U)?U:[U],t,n,o,i,r,_,a,c,s),l.base=t.__e,t.__u&=-161,l.__h.length&&_.push(l),g&&(l.__E=l.__=null)}catch(L){if(t.__v=null,c||r!=null)if(L.then){for(t.__u|=c?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;r[r.indexOf(a)]=null,t.__e=a}else{for(me=r.length;me--;)ae(r[me]);ce(t)}else t.__e=n.__e,t.__k=n.__k,L.then||ce(t);d.__e(L,t,n)}else r==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):a=t.__e=at(n.__e,t,n,o,i,r,_,c,s);return(u=d.diffed)&&u(t),128&t.__u?void 0:a}function ce(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(ce)}function Ne(e,t,n){for(var o=0;o<n.length;o++)ue(n[o],n[++o],n[++o]);d.__c&&d.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(r){r.call(i)})}catch(r){d.__e(r,i.__v)}})}function Se(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:F(e)?e.map(Se):A({},e)}function at(e,t,n,o,i,r,_,a,c){var s,u,l,m,p,y,b,g=n.props,f=t.props,h=t.type;if(h=="svg"?i="http://www.w3.org/2000/svg":h=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),r!=null){for(s=0;s<r.length;s++)if((p=r[s])&&"setAttribute"in p==!!h&&(h?p.localName==h:p.nodeType==3)){e=p,r[s]=null;break}}if(e==null){if(h==null)return document.createTextNode(f);e=document.createElementNS(i,h,f.is&&f),a&&(d.__m&&d.__m(t,r),a=!1),r=null}if(h==null)g===f||a&&e.data==f||(e.data=f);else{if(r=r&&N.call(e.childNodes),g=n.props||W,!a&&r!=null)for(g={},s=0;s<e.attributes.length;s++)g[(p=e.attributes[s]).name]=p.value;for(s in g)if(p=g[s],s!="children"){if(s=="dangerouslySetInnerHTML")l=p;else if(!(s in f)){if(s=="value"&&"defaultValue"in f||s=="checked"&&"defaultChecked"in f)continue;X(e,s,null,p,i)}}for(s in f)p=f[s],s=="children"?m=p:s=="dangerouslySetInnerHTML"?u=p:s=="value"?y=p:s=="checked"?b=p:a&&typeof p!="function"||g[s]===p||X(e,s,p,g[s],i);if(u)a||l&&(u.__html==l.__html||u.__html==e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(l&&(e.innerHTML=""),Ce(t.type=="template"?e.content:e,F(m)?m:[m],t,n,o,h=="foreignObject"?"http://www.w3.org/1999/xhtml":i,r,_,r?r[0]:n.__k&&M(n,0),a,c),r!=null)for(s=r.length;s--;)ae(r[s]);a||(s="value",h=="progress"&&y==null?e.removeAttribute("value"):y!=null&&(y!==e[s]||h=="progress"&&!y||h=="option"&&y!=g[s])&&X(e,s,y,g[s],i),s="checked",b!=null&&b!=e[s]&&X(e,s,b,g[s],i))}return e}function ue(e,t,n){try{if(typeof e=="function"){var o=typeof e.__u=="function";o&&e.__u(),o&&t==null||(e.__u=e(t))}else e.current=t}catch(i){d.__e(i,n)}}function $e(e,t,n){var o,i;if(d.unmount&&d.unmount(e),(o=e.ref)&&(o.current&&o.current!=e.__e||ue(o,null,t)),(o=e.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(r){d.__e(r,t)}o.base=o.__P=null}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&$e(o[i],t,n||typeof e.type!="function");n||ae(e.__e),e.__c=e.__=e.__e=void 0}function st(e,t,n){return this.constructor(e,n)}function Q(e,t,n){var o,i,r,_;t==document&&(t=document.documentElement),d.__&&d.__(e,t),i=(o=!1)?null:t.__k,r=[],_=[],se(t,e=t.__k=j(S,null,[e]),i||W,W,t.namespaceURI,i?null:t.firstChild?N.call(t.childNodes):null,r,i?i.__e:t.firstChild,o,_),Ne(r,e,_)}N=be.slice,d={__e:function(e,t,n,o){for(var i,r,_;t=t.__;)if((i=t.__c)&&!i.__)try{if((r=i.constructor)&&r.getDerivedStateFromError!=null&&(i.setState(r.getDerivedStateFromError(e)),_=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,o||{}),_=i.__d),_)return i.__E=i}catch(a){e=a}throw e}},T=0,B.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=A({},this.state),typeof e=="function"&&(e=e(A({},n),this.props)),e&&A(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),ke(this))},B.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ke(this))},B.prototype.render=S,R=[],ye=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ge=function(e,t){return e.__v.__b-t.__v.__b},Y.__r=0,xe=/(PointerCapture)$|Capture$/i,ie=0,_e=Ee(!1),le=Ee(!0);var O,w,pe,Ae,V=0,Be=[],C=d,Te=C.__b,Re=C.__r,He=C.diffed,Ue=C.__c,De=C.unmount,Me=C.__;function ee(e,t){C.__h&&C.__h(w,e,V||t),V=0;var n=w.__H||(w.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function H(e){return V=1,ct(Le,e)}function ct(e,t,n){var o=ee(O++,2);if(o.t=e,!o.__c&&(o.__=[n?n(t):Le(void 0,t),function(a){var c=o.__N?o.__N[0]:o.__[0],s=o.t(c,a);c!==s&&(o.__N=[s,o.__[1]],o.__c.setState({}))}],o.__c=w,!w.__f)){var i=function(a,c,s){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(m){return!!m.__c});if(u.every(function(m){return!m.__N}))return!r||r.call(this,a,c,s);var l=o.__c.props!==a;return u.forEach(function(m){if(m.__N){var p=m.__[0];m.__=m.__N,m.__N=void 0,p!==m.__[0]&&(l=!0)}}),r&&r.call(this,a,c,s)||l};w.__f=!0;var r=w.shouldComponentUpdate,_=w.componentWillUpdate;w.componentWillUpdate=function(a,c,s){if(this.__e){var u=r;r=void 0,i(a,c,s),r=u}_&&_.call(this,a,c,s)},w.shouldComponentUpdate=i}return o.__N||o.__}function q(e,t){var n=ee(O++,3);!C.__s&&Ie(n.__H,t)&&(n.__=e,n.u=t,w.__H.__h.push(n))}function G(e){return V=5,te(function(){return{current:e}},[])}function te(e,t){var n=ee(O++,7);return Ie(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function ut(e,t){return V=8,te(function(){return e},t)}function pt(){var e=ee(O++,11);if(!e.__){for(var t=w.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function dt(){for(var e;e=Be.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ne),e.__H.__h.forEach(de),e.__H.__h=[]}catch(t){e.__H.__h=[],C.__e(t,e.__v)}}C.__b=function(e){w=null,Te&&Te(e)},C.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Me&&Me(e,t)},C.__r=function(e){Re&&Re(e),O=0;var t=(w=e.__c).__H;t&&(pe===w?(t.__h=[],w.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(ne),t.__h.forEach(de),t.__h=[],O=0)),pe=w},C.diffed=function(e){He&&He(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Be.push(t)!==1&&Ae===C.requestAnimationFrame||((Ae=C.requestAnimationFrame)||ft)(dt)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),pe=w=null},C.__c=function(e,t){t.some(function(n){try{n.__h.forEach(ne),n.__h=n.__h.filter(function(o){return!o.__||de(o)})}catch(o){t.some(function(i){i.__h&&(i.__h=[])}),t=[],C.__e(o,n.__v)}}),Ue&&Ue(e,t)},C.unmount=function(e){De&&De(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{ne(o)}catch(i){t=i}}),n.__H=void 0,t&&C.__e(t,n.__v))};var Oe=typeof requestAnimationFrame=="function";function ft(e){var t,n=function(){clearTimeout(o),Oe&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,35);Oe&&(t=requestAnimationFrame(n))}function ne(e){var t=w,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),w=t}function de(e){var t=w;e.__c=e.__(),w=t}function Ie(e,t){return!e||e.length!==t.length||t.some(function(n,o){return n!==e[o]})}function Le(e,t){return typeof t=="function"?t(e):t}function ht(e,t){for(var n in t)e[n]=t[n];return e}function We(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var o in t)if(o!=="__source"&&e[o]!==t[o])return!0;return!1}function Fe(e,t){this.props=e,this.context=t}(Fe.prototype=new B).isPureReactComponent=!0,Fe.prototype.shouldComponentUpdate=function(e,t){return We(this.props,e)||We(this.state,t)};var je=d.__b;d.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),je&&je(e)};var mt=d.__e;d.__e=function(e,t,n,o){if(e.then){for(var i,r=t;r=r.__;)if((i=r.__c)&&i.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t)}mt(e,t,n,o)};var Ve=d.unmount;function qe(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(o){typeof o.__c=="function"&&o.__c()}),e.__c.__H=null),(e=ht({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(o){return qe(o,t,n)})),e}function Ge(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(o){return Ge(o,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function fe(){this.__u=0,this.o=null,this.__b=null}function Ke(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function oe(){this.i=null,this.l=null}d.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),Ve&&Ve(e)},(fe.prototype=new B).__c=function(e,t){var n=t.__c,o=this;o.o==null&&(o.o=[]),o.o.push(n);var i=Ke(o.__v),r=!1,_=function(){r||(r=!0,n.__R=null,i?i(a):a())};n.__R=_;var a=function(){if(!--o.__u){if(o.state.__a){var c=o.state.__a;o.__v.__k[0]=Ge(c,c.__c.__P,c.__c.__O)}var s;for(o.setState({__a:o.__b=null});s=o.o.pop();)s.forceUpdate()}};o.__u++||32&t.__u||o.setState({__a:o.__b=o.__v.__k[0]}),e.then(_,_)},fe.prototype.componentWillUnmount=function(){this.o=[]},fe.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=qe(this.__b,n,o.__O=o.__P)}this.__b=null}var i=t.__a&&j(S,null,e.fallback);return i&&(i.__u&=-33),[j(S,null,t.__a?null:e.children),i]};var Ze=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function vt(e){return this.getChildContext=function(){return e.context},e.children}function yt(e){var t=this,n=e.h;if(t.componentWillUnmount=function(){Q(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var o=t.__v;o!==null&&!o.__m&&o.__!==null;)o=o.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:o.__m},contains:function(){return!0},insertBefore:function(i,r){this.childNodes.push(i),t.h.insertBefore(i,r)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),t.h.removeChild(i)}}}Q(j(vt,{context:t.context},e.__v),t.v)}function Ye(e,t){var n=j(yt,{__v:e,h:t});return n.containerInfo=t,n}(oe.prototype=new B).__a=function(e){var t=this,n=Ke(t.__v),o=t.l.get(e);return o[0]++,function(i){var r=function(){t.props.revealOrder?(o.push(i),Ze(t,e,o)):i()};n?n(r):r()}},oe.prototype.render=function(e){this.i=null,this.l=new Map;var t=J(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},oe.prototype.componentDidUpdate=oe.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){Ze(e,n,t)})};var gt=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,xt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,bt=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,wt=/[A-Z0-9]/g,kt=typeof document<"u",Ct=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function zt(e,t,n){return t.__k==null&&(t.textContent=""),Q(e,t),typeof n=="function"&&n(),e?e.__c:null}B.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(B.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var Je=d.event;function Pt(){}function Et(){return this.cancelBubble}function Nt(){return this.defaultPrevented}d.event=function(e){return Je&&(e=Je(e)),e.persist=Pt,e.isPropagationStopped=Et,e.isDefaultPrevented=Nt,e.nativeEvent=e};var St={enumerable:!1,configurable:!0,get:function(){return this.class}},Xe=d.vnode;d.vnode=function(e){typeof e.type=="string"&&(function(t){var n=t.props,o=t.type,i={},r=o.indexOf("-")===-1;for(var _ in n){var a=n[_];if(!(_==="value"&&"defaultValue"in n&&a==null||kt&&_==="children"&&o==="noscript"||_==="class"||_==="className")){var c=_.toLowerCase();_==="defaultValue"&&"value"in n&&n.value==null?_="value":_==="download"&&a===!0?a="":c==="translate"&&a==="no"?a=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?_="ondblclick":c!=="onchange"||o!=="input"&&o!=="textarea"||Ct(n.type)?c==="onfocus"?_="onfocusin":c==="onblur"?_="onfocusout":bt.test(_)&&(_=c):c=_="oninput":r&&xt.test(_)?_=_.replace(wt,"-$&").toLowerCase():a===null&&(a=void 0),c==="oninput"&&i[_=c]&&(_="oninputCapture"),i[_]=a}}o=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=J(n.children).forEach(function(s){s.props.selected=i.value.indexOf(s.props.value)!=-1})),o=="select"&&i.defaultValue!=null&&(i.value=J(n.children).forEach(function(s){s.props.selected=i.multiple?i.defaultValue.indexOf(s.props.value)!=-1:i.defaultValue==s.props.value})),n.class&&!n.className?(i.class=n.class,Object.defineProperty(i,"className",St)):(n.className&&!n.class||n.class&&n.className)&&(i.class=i.className=n.className),t.props=i})(e),e.$$typeof=gt,Xe&&Xe(e)};var Qe=d.__r;d.__r=function(e){Qe&&Qe(e),e.__c};var et=d.diffed;d.diffed=function(e){et&&et(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value)};function $t(e){return!!e.__k&&(Q(null,e),!0)}var At=S,Bt=0;function v(e,t,n,o,i,r){t||(t={});var _,a,c=t;if("ref"in c)for(a in c={},t)a=="ref"?_=t[a]:c[a]=t[a];var s={type:e,props:c,key:n,ref:_,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Bt,__i:-1,__u:0,__source:i,__self:r};if(typeof e=="function"&&(_=e.defaultProps))for(a in _)c[a]===void 0&&(c[a]=_[a]);return d.vnode&&d.vnode(s),s}function tt(e){return{render:function(t){zt(t,e)},unmount:function(){$t(e)}}}function Tt(e){return fetch("http://localhost:3000/api/address-router",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({selection:e})}).then(t=>t.json()).catch(t=>({success:!1,error:t instanceof Error?t.message:"Unknown error"}))}function Rt(e,t){return fetch("http://localhost:3000/api/utility-select",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({utilityName:e,externalId:t})})}const Ht=e=>{if(window.google=window.google||{},window.google.maps=window.google.maps||{},window.google.maps.importLibrary)return;const t=new Set(e.libraries||[]),n=new URLSearchParams;let o=null;const i=()=>o||(o=new Promise((r,_)=>{const a=document.createElement("script");n.set("libraries",Array.from(t).join(","));for(const c in e)n.set(c.replace(/[A-Z]/g,s=>`_${s[0].toLowerCase()}`),e[c]);n.set("callback","google.maps.__ib__"),a.src=`https://maps.googleapis.com/maps/api/js?${n.toString()}`,window.google.maps.__ib__=r,a.onerror=()=>_(Error("Google Maps could not load.")),a.nonce=document.querySelector("script[nonce]")?.nonce||"",document.head.append(a)}),o);window.google.maps.importLibrary||(window.google.maps.importLibrary=(r,..._)=>t.add(r)&&i().then(()=>window.google.maps.importLibrary(r,..._)))};function Ut(e){if(!e.formattedAddress||!e.addressComponents)return;const t=e.addressComponents.reduce((r,_)=>(_.types.forEach(a=>{r[a]=_}),r),{}),n=[t.street_number?.longText,t.route?.longText,t.subpremise?.longText].filter(Boolean).join(" "),o=[t.locality?.longText,t.sublocality?.longText,t.administrative_area_level_2?.longText].filter(Boolean)[0]||"",i={line1:n,city:o,state:t.administrative_area_level_1?.shortText||"",postalCode:t.postal_code?.longText||"",country:t.country?.shortText||"",latitude:e.location?.lat(),longitude:e.location?.lng()};return{formattedAddress:e.formattedAddress,address:i}}const Dt=e=>{const[t,n]=H(null);return q(()=>{window.google.maps.importLibrary(e).then(o=>{n(o)})},[e]),t},re=(...e)=>e.filter(Boolean).join(" "),k={autocomplete:"_autocomplete_1x5zp_11",input:"_input_1x5zp_15",placeholder:"_placeholder_1x5zp_28",inputContainer:"_inputContainer_1x5zp_37",activated:"_activated_1x5zp_51",inputPositioner:"_inputPositioner_1x5zp_55",mapPin:"_mapPin_1x5zp_62",activateButton:"_activateButton_1x5zp_70",modalButton:"_modalButton_1x5zp_88",modalButtonGroup:"_modalButtonGroup_1x5zp_106",mobileBtn:"_mobileBtn_1x5zp_119",overlay:"_overlay_1x5zp_129",results:"_results_1x5zp_139",result:"_result_1x5zp_139",modal:"_modal_1x5zp_88",modalClose:"_modalClose_1x5zp_187",modalContent:"_modalContent_1x5zp_200"};function he({title:e,className:t,...n}){return v("button",{type:"button",className:re(k.activateButton,t),tabIndex:-1,...n,children:e})}function nt(e){return v("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"#0c9953",viewBox:"0 0 20 20",...e,children:[v("title",{children:"Map pin"}),v("path",{d:"M10 1.458a6.875 6.875 0 0 0-6.875 6.875c0 2.666 1.729 5.222 3.579 7.175A24.7 24.7 0 0 0 10 18.402a24.724 24.724 0 0 0 3.296-2.895c1.85-1.952 3.579-4.508 3.579-7.174A6.875 6.875 0 0 0 10 1.458m0 17.709-.347.52-.002-.002-.005-.003-.019-.013-.067-.046-.248-.176a25.979 25.979 0 0 1-3.516-3.08c-1.9-2.005-3.921-4.866-3.921-8.034a8.125 8.125 0 1 1 16.25 0c0 3.168-2.021 6.029-3.921 8.034a26 26 0 0 1-3.516 3.08 16 16 0 0 1-.315.222l-.019.013-.005.003-.001.001zm0 0 .347.52a.63.63 0 0 1-.694 0z"}),v("path",{d:"M10 6.458a1.875 1.875 0 1 0 0 3.75 1.875 1.875 0 0 0 0-3.75M6.875 8.333a3.125 3.125 0 1 1 6.25 0 3.125 3.125 0 0 1-6.25 0"})]})}function Mt({zIndex:e,ref:t,value:n,placeholder:o,onChange:i,results:r,onSelect:_,portalRoot:a,close:c,open:s,overlayPosition:u,isActivated:l,cta:m}){const p=G(null),[y,b]=H(-1),g=pt();q(()=>{b(0)},[r]);const f=l&&r.length>0,h=te(()=>{if(!(!f||y<0))return`${g}-option-${r[y]?.id}`},[f,y,g,r]);function P(x){const z=r[x];z&&(i(z.mainText),_?.({result:z}),t.current?.blur(),c())}function E(x){if(!f){x.key==="ArrowDown"&&r.length>0&&(x.preventDefault(),s(),b(0)),x.key==="Escape"&&(x.preventDefault(),t.current?.blur());return}switch(x.key){case"ArrowDown":{x.preventDefault(),b(z=>z<r.length-1?z+1:0);break}case"ArrowUp":{x.preventDefault(),b(z=>z>0?z-1:r.length-1);break}case"ArrowRight":{x.preventDefault(),i(r[y]?.mainText||"");break}case"Home":{x.preventDefault(),b(0);break}case"End":{x.preventDefault(),b(r.length-1);break}case"Enter":{y>=0&&(x.preventDefault(),P(y));break}case"Escape":{x.preventDefault(),b(-1),i(""),n||c();break}}}return Ye(v(S,{children:[v("div",{className:k.overlay,style:{display:l?"block":"none"}}),v("div",{className:k.inputPositioner,style:{...u||{},zIndex:l?1001:e},children:[f&&v("div",{ref:p,id:g,className:k.results,role:"listbox","aria-label":"Suggestions",onMouseDown:x=>x.preventDefault(),children:r.map((x,z)=>{const K=z===y,I=`${g}-option-${x.id}`;return v("div",{id:I,role:"option","aria-selected":K,className:re(k.result,K&&k.resultActive),onMouseDown:U=>U.preventDefault(),onClick:()=>P(z),onMouseEnter:()=>b(z),tabIndex:-1,children:[x.mainText,v("span",{children:x.secondaryText})]},x.id)})}),v("div",{className:k.inputContainer,children:[v("input",{name:"address-search",ref:t,value:n,onChange:x=>{i(x.target.value)},placeholder:o,autoComplete:"home street-address",className:k.input,onFocus:s,onBlur:c,onKeyDown:E,role:"combobox","aria-expanded":f,"aria-controls":f?g:void 0,"aria-activedescendant":h,"aria-autocomplete":"list"}),v(nt,{className:k.mapPin}),!!m&&!l&&v(he,{title:m,onClick:s})]})]})]}),a)}function Ot({zIndex:e,value:t,placeholder:n,cta:o,onChange:i,results:r,onSelect:_,portalRoot:a}){const c=G(null),s=G(null),[u,l]=H(!1),[m,p]=H(null);function y(){l(!0),s.current?.focus()}return q(()=>{const b=c.current;if(!b)return;const g=()=>{const h=b.getBoundingClientRect();p({top:h.top+window.scrollY,left:h.left+window.scrollX,right:h.right+window.scrollX,bottom:h.bottom+window.scrollY,width:h.width,height:h.height})};g();const f=new ResizeObserver(g);return f.observe(b),window.addEventListener("resize",g),()=>{f.disconnect(),window.removeEventListener("resize",g)}},[]),v(S,{children:[v("div",{className:re(k.autocomplete,u&&k.activated),children:[v("div",{className:k.inputContainer,ref:c,style:{visibility:"hidden"},children:[v("button",{className:re(k.input,!t&&k.placeholder),type:"button",onClick:y,onFocus:y,children:t||n}),v(nt,{className:k.mapPin}),!!o&&v(he,{title:o,onClick:y})]}),v(Mt,{zIndex:e,ref:s,value:t,placeholder:n,onChange:i,results:r,onSelect:_,portalRoot:a,close:()=>l(!1),open:y,overlayPosition:m,isActivated:u,cta:o})]}),!!o&&v(he,{title:o,onClick:y,className:k.mobileBtn})]})}function It({zIndex:e,onSelect:t,placeholder:n,cta:o,portalRoot:i}){const r=Dt("places"),_=G(null),a=G({}),[c,s]=H(""),u=c.trim(),[l,m]=H({}),[p,y]=H([]);q(()=>{if(!r)return;_.current||(_.current=new r.AutocompleteSessionToken);const f=_.current;m(h=>h[u]||!u?h:{...h,[u]:r.AutocompleteSuggestion.fetchAutocompleteSuggestions({input:u,sessionToken:f,language:"en",includedPrimaryTypes:["street_address"]}).then(({suggestions:P})=>(P.forEach(E=>{E.placePrediction?.placeId&&(a.current[E.placePrediction.placeId]=E)}),P))})},[r,u]),q(()=>{if(!u){y([]);return}const f=l[u];f&&f.then(h=>{y(h)})},[l,u]);const b=ut(async({result:f})=>{const h=a.current[f.id];h&&(s([h.placePrediction?.mainText?.text,h.placePrediction?.secondaryText?.text].filter(Boolean).join(", ")),await h.placePrediction?.toPlace().fetchFields({fields:["location","formattedAddress","addressComponents"]}).then(({place:P})=>t?.({selection:Ut(P)})),m({}),a.current={},_.current=null)},[t]),g=te(()=>p.map(f=>({mainText:f.placePrediction?.mainText?.text,secondaryText:f.placePrediction?.secondaryText?.text,id:f.placePrediction?.placeId})),[p]);return v(Ot,{zIndex:e,value:c,onChange:s,results:g,onSelect:b,placeholder:n||"Enter your home address",cta:o,portalRoot:i})}function Lt({portalRoot:e,isOpen:t,onClose:n,children:o,zIndex:i=1001}){return t?Ye(v(S,{children:[v("div",{className:k.overlay}),v("div",{className:k.modal,style:{zIndex:i},children:[v("button",{type:"button",className:k.modalClose,onClick:n,children:"Ã—"}),v("div",{className:k.modalContent,style:{zIndex:i+1},children:o})]})]}),e):null}const ot=":host{--grey-20: #d8d7d5;--grey-90: #999;font:inherit}:host *{box-sizing:border-box}._autocomplete_1x5zp_11{position:relative}._input_1x5zp_15{position:relative;padding:20px 8px 20px 44px;font-size:16px;line-height:24px;width:100%;background-color:transparent;border:none;outline:none;font-family:inherit;text-align:left}._input_1x5zp_15._placeholder_1x5zp_28,._input_1x5zp_15::placeholder{color:var(--grey-90)}button._input_1x5zp_15{cursor:text}._inputContainer_1x5zp_37:focus-within{border-color:var(--grey-90);outline:2px solid var(--grey-20);outline-offset:0}._inputContainer_1x5zp_37{position:relative;background-color:#fff;border:1px solid transparent;border-radius:8px;overflow:hidden}._activated_1x5zp_51 ._inputContainer_1x5zp_37{z-index:1001}._inputPositioner_1x5zp_55{position:absolute;top:0;left:0;right:0}._mapPin_1x5zp_62{position:absolute;pointer-events:none;left:16px;top:50%;transform:translateY(-50%)}._activateButton_1x5zp_70{font-size:inherit;font-family:inherit;background:none;border:none;cursor:pointer;color:#084d41;font-weight:600;border-radius:8px;transition:background-color .2s ease-in-out;background-color:#d0f585;padding:8px 20px;box-shadow:inset 0 0 0 1px #0b0e0f0d}._activateButton_1x5zp_70:hover{background-color:#ecfad0}._modalButton_1x5zp_88{font-size:16px;font-family:inherit;background:none;border:none;cursor:pointer;color:#084d41;font-weight:600;border-radius:12px;transition:background-color .2s ease-in-out;background-color:#d0f585;padding:16px 32px;box-shadow:inset 0 0 0 1px #0b0e0f0d}._modalButton_1x5zp_88:hover{background-color:#ecfad0}._modalButtonGroup_1x5zp_106{display:flex;justify-content:space-evenly;gap:8px}._inputContainer_1x5zp_37>._activateButton_1x5zp_70{position:absolute;right:8px;top:8px;bottom:8px}._activateButton_1x5zp_70._mobileBtn_1x5zp_119{display:none;width:100%;margin-top:8px}._activated_1x5zp_51 ._activateButton_1x5zp_70{display:none}._overlay_1x5zp_129{position:fixed;inset:0;background-color:#292826cc;z-index:1000}._results_1x5zp_139{position:absolute;top:100%;left:0;right:0;background:#fff;margin-top:-8px;padding:16px 8px 8px;border-radius:0 0 8px 8px;border-color:var(--grey-90);outline:2px solid var(--grey-20);outline-offset:0}._result_1x5zp_139{padding:12px 8px;font-weight:600;border-radius:8px}._result_1x5zp_139[aria-selected=true]{background-color:#d0f58555;cursor:default}._result_1x5zp_139 span{margin-left:6px;font-size:14px;color:var(--grey-90);font-weight:500}._modal_1x5zp_88{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;border-radius:8px;padding:24px;width:500px;max-width:90vw;aspect-ratio:2 / 1;display:flex;flex-direction:column;overflow:hidden}._modalClose_1x5zp_187{position:absolute;top:8px;right:8px;background:none;border:none;font-size:24px;cursor:pointer;padding:4px 8px;line-height:1;z-index:1}._modalContent_1x5zp_200{flex:1;min-height:0;overflow:auto}@media screen and (max-width:540px){._input_1x5zp_15{padding:12px 8px 12px 40px;line-height:24px}._mapPin_1x5zp_62{left:12px}._inputContainer_1x5zp_37>._activateButton_1x5zp_70{display:none}._activateButton_1x5zp_70._mobileBtn_1x5zp_119{display:block;padding:14px 20px}._modal_1x5zp_88{aspect-ratio:1 / 1;padding:24px}}";function Wt(e){const t=e.getAttribute("public-key")||"",n=e.getAttribute("placeholder")||void 0,o=e.getAttribute("cta")||void 0;return{publicApiKey:t,placeholder:n,cta:o}}function rt(e){const t=window.getComputedStyle(e);if(t.getPropertyValue("z-index")==="auto"&&e.parentElement)return rt(e.parentElement);const n=Number(t.getPropertyValue("z-index"));return Number.isNaN(n)?0:n}class Ft extends HTMLElement{constructor(){super(...arguments);D(this,"root");D(this,"container");D(this,"overlayRoot");D(this,"overlayWrapper");D(this,"multipleResult");D(this,"selection")}static get observedAttributes(){return["public-key","placeholder","cta"]}connectedCallback(){if(!this.root){this.root=this.attachShadow({mode:"open"});const n=document.createElement("style");n.textContent=ot,this.root.appendChild(n),this.container=document.createElement("div"),this.root.appendChild(this.container)}if(!this.overlayRoot){this.overlayWrapper=document.createElement("div"),this.overlayRoot=this.overlayWrapper.attachShadow({mode:"open"});const n=document.createElement("style");n.textContent=ot,this.overlayRoot.appendChild(n),document.body.appendChild(this.overlayWrapper)}this.render()}attributeChangedCallback(){this.render()}disconnectedCallback(){this.container&&tt(this.container).unmount()}render(){if(!this.container||!this.overlayRoot)return;const n=Wt(this);if(!n.publicApiKey)throw new Error("bpc-address-search: public-key is required");Ht({key:n.publicApiKey,v:"weekly",libraries:["places"]});const o=async _=>{if(this.selection=_.selection,this.dispatchEvent(new CustomEvent("select",{detail:_})),!_.selection)return;const a=await Tt(_.selection);if(console.log(a),a.success&&a.data.redirectStrategy.isMultiple){this.multipleResult={redirectUrl:a.data.redirectUrl,redirectStrategy:a.data.redirectStrategy,externalAddressId:a.data.externalAddressId},this.render();return}a.success?this.dispatchEvent(new CustomEvent("result",{detail:{result:a.data,selection:_.selection}})):this.dispatchEvent(new CustomEvent("error",{detail:{error:a.error}}))},i=rt(this.root?.host),r=async _=>{const a=this.multipleResult?.redirectStrategy.multiple.options.find(c=>c.value===_);if(console.log("FOUND",a),!!a){if(_==="OTHER"){this.dispatchEvent(new CustomEvent("result",{detail:{result:this.multipleResult,selection:this.selection}})),this.multipleResult=void 0,this.selection=void 0,this.render();return}if(this.multipleResult?.externalAddressId){try{await Rt(_,this.multipleResult.externalAddressId)}catch(c){console.error("Error setting utility user confirmed",c)}this.dispatchEvent(new CustomEvent("result",{detail:{result:{redirectUrl:a.redirectUrl},selection:this.selection}})),this.multipleResult=void 0,this.selection=void 0,this.render()}}};tt(this.container).render(v(At,{children:[v(It,{...n,zIndex:i,onSelect:o,portalRoot:this.overlayRoot}),v(Lt,{portalRoot:this.overlayRoot,isOpen:!!this.multipleResult,onClose:()=>{this.multipleResult=void 0,this.render()},zIndex:1e3,children:v("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",height:"100%"},children:[v("h2",{children:"Who is your utility?"}),v("div",{children:[v("p",{style:{marginBottom:30,textAlign:"center",fontStyle:"italic",color:"#9e9e9e"},children:"This helps us determine where to send you next."}),v("div",{className:k.modalButtonGroup,children:this.multipleResult?.redirectStrategy.multiple.options.map(_=>v("button",{className:k.modalButton,onClick:()=>r(_.value),children:_.name},_.value))})]})]})})]}))}}customElements.define("bpc-address-search",Ft)})();
